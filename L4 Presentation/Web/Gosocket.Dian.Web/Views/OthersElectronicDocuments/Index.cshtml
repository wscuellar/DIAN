@{
    ViewBag.Title = "Otros Documentos Electrónicos";
    Layout = "~/Views/Shared/_Layout.cshtml";
    List<Gosocket.Dian.Web.Models.AutoListModel> ListDocs = (List<Gosocket.Dian.Web.Models.AutoListModel>
                   )ViewBag.ListElectronicDocuments;
}


@section css
{
    <link href="~/Content/plugins/bootstrap-select/bootstrap-select.min.css" rel="stylesheet">
    <link href="~/Content/plugins/chosen/chosen.min.css" rel="stylesheet">
    <style type="text/css">
        .modal-body .close, .modal-header .close {
            background-color: #348441 !important;
        }

        .btnCloseOtherDocument {
            color: #fff;
            background: #348441 !important;
            background-color: #348441 !important;
            /*border-radius: 10px !important;*/
            float: right;
            cursor: pointer;
            opacity: 100 !important;
            padding-left: 5px !important;
            padding-right: 5px !important;
            padding-top: 1px !important;
            padding-bottom: 2px !important;
            font-weight: normal !important;
            font-family: auto !important;
        }

        .btn-success:focus, .btn-hover-success:active, .btn-hover-success.active, .btn.btn-active-success:active, .btn.btn-active-success.active, .dropdown.open > .btn.btn-active-success, .btn-group.open .dropdown-toggle.btn.btn-active-success {
            ​​​​​​ background-color: #348441 !important;
            border-color: #348441 !important;
            color: #fff !important;
        }



        .btn-success:hover, btn-radian-success:hover {
            ​​​​​​ background-color: #62C7AB;
            background: #62C7AB;
            border-color: #62C7AB;
            color: #fff;
        }


    </style>
}

<div class="page-content radian-view margin-20">
    <div class="title-container">
        <p class="title-view">
            @ViewBag.title
        </p>
        <div class="underline-title"></div>
    </div>
    <div class="container-fluid RadianContainerBegin" id="panel-form" data-target="#panel-form" data-toggle="panel-overlay">

        <div class="row">
            <div class="col-lg-12  col-md-12  col-xs-12" style="margin-top:30px">
                <h4><b>Seleccione el tipo de documento:</b></h4>
            </div>
            <div class="col-lg-12  col-md-12  col-xs-12 radian-subtitle-line">
            </div>


            <div class="row-fluid">
                @foreach (var item in ListDocs)
                {
                    <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                        <div class="card RadianCardContainer" style="width: 95% !important; height: 230px !important;" idElectronicDocument="@item.value" textElectronicDocument="@item.text">
                            <div class="RadianImgContainer">
                                <img class="RadianimgSvg" src="~/Content/images/Svg/Factor.svg" />
                            </div>
                            <div class="card-body">
                                <p class="RadianTittleCard" style="margin: 20px;">@item.text</p>
                            </div>
                        </div>
                    </div>
                }

            </div>

        </div>
    </div>
</div>


@section scripts
{
    @Scripts.Render("~/bundles/jqueryval")
    <script src="~/Content/js/Radian/RadianIndex.js"></script>

    <script>
        var operationClick = false;

        $('.RadianCardContainer').click(function () {
            showLoading('#panel-form', 'Cargando', 'Procesando datos, por favor espere.');

                if (!operationClick) {
                    operationClick = true;

                    var electronicDocumentId = $(this).attr('idElectronicDocument');
                    var ValidacionOtherDocsElecViewModel = {
                        UserCode: '@ViewBag.UserCode',
                        Accion: 'SeleccionElectronicDocument',
                        ElectronicDocument: $(this).attr('idElectronicDocument'),
                        complementoTexto: $(this).attr('textElectronicDocument'),
                    };

                    CallExecution("POST", '@Url.Action("Validation", "OthersElectronicDocuments")', ValidacionOtherDocsElecViewModel,
                        function (param) { 
                            var url = "@Url.Action("AddParticipants", "OthersElectronicDocuments")" + "?electronicDocumentId=" + electronicDocumentId;
                            window.location.href = url;
                         }, true, () => hideLoading('#panel-form')
                    );
                }

        });
    </script>
}


